{"ast":null,"code":"import { Popover } from 'bootstrap';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/authenticationservice\";\nconst _c0 = [\"notifButton\"];\nexport let NotificationComponent = /*#__PURE__*/(() => {\n  class NotificationComponent {\n    constructor(authenticationService) {\n      this.authenticationService = authenticationService;\n      this.notifications = [];\n    }\n\n    ngAfterViewInit() {\n      this.popover = new Popover(this.notifButton.nativeElement);\n    }\n\n    ngOnInit() {\n      this.authenticationService.notificationConnect(message => {\n        this.notifications.push(JSON.parse(message.data));\n      }, err => {\n        console.log(err);\n        this.notifications = [];\n      });\n    }\n\n    togglePopover() {\n      this.popover.toggle();\n    }\n\n  }\n\n  NotificationComponent.ɵfac = function NotificationComponent_Factory(t) {\n    return new (t || NotificationComponent)(i0.ɵɵdirectiveInject(i1.AuthenticationService));\n  };\n\n  NotificationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NotificationComponent,\n    selectors: [[\"app-notification\"]],\n    viewQuery: function NotificationComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.notifButton = _t.first);\n      }\n    },\n    decls: 4,\n    vars: 2,\n    consts: [[1, \"ml-1\", \"mr-1\"], [\"data-toggle\", \"popover\", \"data-placement\", \"bottom\", \"title\", \"Popover title\", \"data-content\", \"And here's some amazing content. It's very engaging. Right?\", 3, \"ngClass\", \"click\"], [\"notifButton\", \"\"]],\n    template: function NotificationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1, 2);\n        i0.ɵɵlistener(\"click\", function NotificationComponent_Template_button_click_1_listener() {\n          return ctx.togglePopover();\n        });\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", \"btn btn-sm \" + (ctx.notifications.length > 0 ? \"btn-danger\" : \"btn-outline-secondary\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.notifications.length);\n      }\n    },\n    styles: [\"\"]\n  });\n  return NotificationComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}